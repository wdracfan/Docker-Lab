# Лабораторная работа. Docker

Данный репозиторий создан в рамках выполнения [лабораторной работы](https://github.com/ilya2108/HSE-Lab-Docker/blob/main/README.md) по курсу "Введение в облачные технологии". 

## Пререквизиты

- скачать Docker Desktop
- клонировать этот репозиторий

## Инструкция по развёртыванию

**В силу того, что я не знаком с особенностями работы Docker на Linux и других операционных системах, данная инструкция, возможно, применима только к Windows.**

Запустите Docker Desktop и дождитесь статуса "Engine running" в левом нижнем углу. 

В командной строке перейдите в директорию, куда был клонирован репозиторий.

Введите в командной строке следующую команду:
```
docker-compose up -d --build
```
Вы должны увидеть примерно следующее:

![image](https://user-images.githubusercontent.com/121407222/209568222-e194d446-ccfa-401a-88f8-9308f30f8c6f.png)

Откройте браузер и в адресной строке введите:
```
localhost
```
Должно открыться окно примерно такого вида:

![image](https://user-images.githubusercontent.com/121407222/209570731-3f9fdf0e-3ea3-469d-afd6-a53763a7d068.png)

Для авторизации с правами администратора в поле Username и в поле Password введите `admin`. Для авторизации без прав администратора в поле Username введите `user`, а в поле Password - `admin`.

После этого откроется список Jupyter-ноутбуков, расположенных в каталоге `/home` той директории, куда вы клонировали репозиторий. Изначально там лежит только файл `helloworld.ipynb`:

![image](https://user-images.githubusercontent.com/121407222/209568826-b6e9dd17-f962-4b8f-9e85-ad100b323fe9.png)

Нажмите на него, чтобы открыть:

![image](https://user-images.githubusercontent.com/121407222/209570992-77c143bb-1131-4d85-afcc-d5bf448c8e68.png)

Чтобы свернуть JupyterHub, нажмите на кнопку `Control Panel` в правом верхнем углу, затем на верхней панели выберите `Admin` и нажмите на большую красную кнопку `Shutdown Hub` (внешне ничего не произойдёт, но если вы попробуете перезагрузить страницу, то получите ошибку вроде "Не удаётся получить доступ к сайту"). 

Свернуть JupyterHub можно **только с правами администратора**. Если вы авторизовались с логином-паролем `user`-`admin`, нажмите на кнопку `Logout` в правом верхнем углу, авторизуйтесь с логином-паролем `admin`-`admin` и проделайте вышеуказанные действия.

## Бонусное задание

В рамках выполнения бонусного задания реализована возможность загрузки Jupyter-ноутбуков из указанной директории на вашем устройстве в указанную директорию в JupyterHub.

Для этого откройте файл `.env`. Вы увидите там следующее:
```
NOTEBOOKS_FROM="./home"
HUB_PATH=""
```

Таковы заданные по умолчанию значения переменных среды `NOTEBOOKS_FROM` (откуда брать ноутбуки на устройстве) и `HUB_PATH` (куда их загружать в JupyterHub). Чтобы указать пользовательские значения, поменяйте соответствующие директории в кавычках. Например, если ваши ноутбуки расположены в директории `/home/hse/homework`, а в JupyterHub вы их хотите видеть по адресу `/subdir/my_notebooks`, то файл `.env` должен выглядеть следующим образом:
```
NOTEBOOKS_FROM="./home/hse/homework"
HUB_PATH="/subdir/my_notebooks"
```

**Есть вы указываете относительный путь к директории `NOTEBOOK_FROM`, то он непременно должен начинаться с точки!**

После этого сохраните файл `.env` и проделайте все действия, указанные в инструкции по развёртыванию выше.

Чтобы открыть Jupyter-ноутбуки, загруженные из указанной вами директории, после авторизации вам будет необходимо пройти по тому адресу, который вы указали в `HUB_PATH`: в открывшемся списке выбрать папку `subdir`, затем папку `my_notebooks` - и там вы увидите содержимое `/home/hse/homework`.
